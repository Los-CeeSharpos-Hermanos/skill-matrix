<app-submenu pageTitle="Member List"></app-submenu>
<div class="container">
  <div class='row align-middle'>
    <div class='col-sm-1'>
      <button mat-fab color="primary" (click)="goTo('skillmatrix/members/addUser')"><mat-icon>add</mat-icon></button>

    </div>
    <div class='col-md'>
      <mat-form-field appearance="standard">
          <mat-label>search for members or skills</mat-label>
          <input matInput type='text' (keyup)="applyFilter($event)" placeholder="Ex. C# Berlin" #input>
      </mat-form-field>
  </div>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 50, 100]" showFirstLastButtons
      aria-label="Select page of periodic elements">
    </mat-paginator>

  <table mat-table matSort
  [dataSource]="dataSource" multiTemplateDataRows
  class="mat-elevation-z8">
    <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay">
      <th mat-header-cell *matHeaderCellDef> {{column}} </th>
      <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
    </ng-container>

      <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let user" [attr.colspan]="columnsToDisplay.length">
          <div class="example-element-detail"
          [@detailExpand]="user == expandedElement ? 'expanded' : 'collapsed'">
          <div class="example-element-diagram">
            <div class="example-element-symbol">


              <img src="{{user.imageUrl}}" width=75> </div>
            </div>

            <div class="example-element-description">
              {{user.firstName}} {{ user.surName}}
              <br>
              <div class="example-element-position"> languages: {{user.language}} </div>
              <br>
              <div class="example-element-position"> email: {{user.email}} </div>
            </div>

            <div class='row '>
              <div class='col-sm-8 d-flex justify-content-end'>
                <button mat-icon-button color="accent" aria-label="Go to edit screen"
                  >
                    <mat-icon>edit</mat-icon>
                </button>
                <button mat-icon-button color="warn" aria-label="Delete Skill" (click)="onDeleteClick(user.id)">
                  <mat-icon>clear</mat-icon>
                </button>
              </div>
            </div>

          </div>

        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
      </tr>
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
</table>

</div>
